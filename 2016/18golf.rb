n = 40
n = 400_000
r="...^^^^^..^...^...^^^^^^...^.^^^.^.^.^^.^^^.....^.^^^...^^^^^^.....^.^^...^^^^^...^.^^^.^^......^^^^"
f=false;t=0;b=r.bytes.map{|e|e==94};n.times{t+=b.count(f);b=[f,*b,f].each_cons(3).map{|a,_,c|a!=c}};p t


# (a && b && !c) ||
# (!a && b && c) ||
# (a && !b && !c) ||
# (!a && !b && c)
