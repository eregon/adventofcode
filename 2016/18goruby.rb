n = 40
# n = 400_000
r="...^^^^^..^...^...^^^^^^...^.^^^.^.^.^^.^^^.....^.^^^...^^^^^^.....^.^^...^^^^^...^.^^^.^^......^^^^"
f=false;t=0;b=r.y.m{|e|e==94};n.ti{t+=b.ct(f);b=[f,*b,f].e_(3).m{|a,_,c|a!=c}};p t


# (a && b && !c) ||
# (!a && b && c) ||
# (a && !b && !c) ||
# (!a && !b && c)
